<!-- <!DOCTYPE html>
<html>
    <head>
        <title>Browser Notification</title>
        <script src = "/socket.io/socket.io.js"></script>
        <script>
            var socket = io();
          
            socket.on('show_notification', function (data) {
                showDesktopNotification(data.title, data.message, data.icon);
            });

        
            function setNotification() {
                showDesktopNotification('Test', 'You have a new message', '/index.jpeg');
                sendNodeNotification('Test', 'You have a new message', '/index.jpeg');
            }

        
            var Notification = window.Notification || window.mozNotification || window.webkitNotification;
            Notification.requestPermission(function (permission) {

            });

            function requestNotificationPermissions() {
                if (Notification.permission !== 'denied') {
                    Notification.requestPermission(function (permission) {

                    });
                }
            }

    
            function showDesktopNotification(message, body, icon, sound, timeout) {
                if (!timeout) {
                    timeout = 4000;
                }
                requestNotificationPermissions();
                var instance = new Notification(
                        message, {
                            body: body,
                            icon: icon,
                            sound: sound
                        }
                );
                instance.onclick = function () {
                    // Something to do
                };
                instance.onerror = function () {
                    // Something to do
                };
                instance.onshow = function () {
                    // Something to do
                };
                instance.onclose = function () {
                    // Something to do
                };
                if (sound)
                {
                    instance.sound;
                }
                setTimeout(instance.close.bind(instance), timeout);
                return false;
            }


            function sendNodeNotification(title, message, icon) {
                socket.emit('new_notification', {
                    message: message,
                    title: title,
                    icon: icon,
                });
            }
        </script>
    </head>  
    <body>
        <button type = "button" name = "button" onclick = "setNotification()">
            Send Notification
        </button>
    </body>
</html> -->

<!-- <html>

<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <title>Comet Test</title>
</head>

<body>
    <p><a id='customAlert' href="#" onclick='socket.send("customAlert")'>publish customAlert</a></p>
    <p><a id='customAlert2' href="#" onclick='socket.send("customAlert2")'>publish customAlert2</a></p>
    <script src="http://localhost:8080/socket.io/socket.io.js" type="text/javascript"></script>
    <script type="text/javascript">

        // Start the socket
        var socket = new io.Socket(null, { port: 8080 });
        socket.connect();

        socket.on('message', function (msg) {
            console.log(msg);
        });
    </script>
</body>

</html> -->